{% extends 'admin/base.html' %}

{% block title %}Profile - Laundry Management System{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="mb-6">
        <h1 class="text-2xl font-bold text-gray-800">User Profile</h1>
        <p class="text-gray-600">Manage your account settings</p>
    </div>

    <div class="bg-white rounded-lg shadow overflow-hidden">
        <form method="post" class="p-6 space-y-6">
            {% csrf_token %}

            <div class="flex items-center mb-6">
                <div class="flex-shrink-0 h-16 w-16">
                    <img class="h-16 w-16 rounded-full"
                        src="https://ui-avatars.com/api/?name={{ user.username }}&background=4f46e5&color=fff" alt="">
                </div>
                <div class="ml-4">
                    <div class="text-lg font-medium text-gray-900">{{ user.username }}</div>
                    <div class="text-sm text-gray-500">{{ user.email }}</div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-gray-700 text-sm font-medium mb-2" for="id_first_name">
                        First Name
                    </label>
                    {{ user_form.first_name }}
                    {% if user_form.first_name.errors %}
                    <p class="text-red-500 text-xs mt-1">{{ user_form.first_name.errors.0 }}</p>
                    {% endif %}
                </div>

                <div>
                    <label class="block text-gray-700 text-sm font-medium mb-2" for="id_last_name">
                        Last Name
                    </label>
                    {{ user_form.last_name }}
                    {% if user_form.last_name.errors %}
                    <p class="text-red-500 text-xs mt-1">{{ user_form.last_name.errors.0 }}</p>
                    {% endif %}
                </div>
            </div>

            <div>
                <label class="block text-gray-700 text-sm font-medium mb-2" for="id_email">
                    Email Address
                </label>
                {{ user_form.email }}
                {% if user_form.email.errors %}
                <p class="text-red-500 text-xs mt-1">{{ user_form.email.errors.0 }}</p>
                {% endif %}
            </div>

            {% if not user.is_superuser %}
            <div>
                <label class="block text-gray-700 text-sm font-medium mb-2" for="id_shop">
                    Shop Assignment
                </label>
                {{ profile_form.shop }}
                {% if profile_form.shop.errors %}
                <p class="text-red-500 text-xs mt-1">{{ profile_form.shop.errors.0 }}</p>
                {% endif %}
            </div>
            {% endif %}

            <div class="flex items-center justify-between pt-6 border-t border-gray-200">
                <a href="{% url 'change_password' %}" class="text-primary hover:text-secondary">
                    Change Password
                </a>
                <button type="submit"
                    class="px-4 py-2 bg-primary hover:bg-secondary text-white rounded-lg font-medium transition-colors">
                    Update Profile
                </button>
            </div>
        </form>
    </div>
</div>

<style>
    input,
    select {
        width: 100%;
        padding: 0.5rem 0.75rem;
        border: 1px solid #d1d5db;
        border-radius: 0.375rem;
        outline: none;
        transition: all 0.2s;
    }

    input:focus,
    select:focus {
        border-color: #4f46e5;
        box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
    }
</style>
{% endblock %}